# day1 실습

## SQLite과 FastAPI 연결하기 
2024-11-9
- 데이터 넣기 C
- 데이터 불러오기 R
- 데이터 수정하기 U
- 데이터 삭제하기 D

## MySQL을 FastAPI와 연결하기, DB 연결 함수 여러개로 나누기
2024-11-12

여러 상황에서 여러 개의 데이터베이스를 사용해야 하는 경우, 각 데이터베이스에 접근하는 함수를 별도로 정의하여 API 호출에서 데이터베이스를 구분하는 방식으로 사용할 수 있다. 이를 통해 특정 요청이 특정 데이터베이스와 상호작용하도록 관리할 수 있다.
- 데이터베이스 연결 함수 분리: 각 데이터베이스에 대해 개별적인 연결 함수를 정의한다.
- API에서 데이터베이스 구분: API 호출 시 요청에 따라 적절한 데이터베이스 연결 함수를 선택한다.
- 유연한 데이터베이스 사용: 요청에 따라 각기 다른 데이터베이스와 연결해서 다양한 데이터베이스를 유연하게 사용할 수 있다. 

--> 다중 데이터베이스 구조를 관리할 수 있다.

## update_menu api 수정
2024-11-12

- `model_dump(exclude_unset=True)` 사용
    
    `model_dump(exclude_unset=True)`를 사용하여 `new_menu`에서 설정된 값만 딕셔너리로 가져온 후, 자동으로 필드에 할당한다. `model_dump(exclude_unset=True)`는 `new_menu`에 설정된 필드만 가져오기 때문에 매번 모든 필드를 수동으로 확인할 필요가 없다.
    
- `session.add()` 생략
    
    `session.get()`으로 가져온 객체는 이미 세션에 연결되어 있어 `add()`가 필요하지 않다.